@tailwind base;
@tailwind components;
@tailwind utilities;

// ============================================================================
// SCSS Variables - Cyberpunk Theme
// ============================================================================

$cyber-blue: 217 91% 60%;
$cyber-cyan: 180 100% 50%;
$cyber-purple: 270 91% 60%;

// Timing functions
$ease-cyber: cubic-bezier(0.25, 0.46, 0.45, 0.94);
$ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

// ============================================================================
// Tailwind Base Layer
// ============================================================================

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    // Dark cyberpunk theme colors
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;
    --card: 222 47% 8%;
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 8%;
    --popover-foreground: 210 40% 98%;
    --primary: #{$cyber-blue};
    --primary-foreground: 222 47% 6%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: #{$cyber-blue};
    --accent-foreground: 222 47% 6%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: #{$cyber-blue};
    --radius: 0.5rem;

    // Custom cyberpunk accent colors
    --cyber-blue: #{$cyber-blue};
    --cyber-cyan: #{$cyber-cyan};
    --cyber-purple: #{$cyber-purple};
    --cyber-glow: #{$cyber-blue};
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

// ============================================================================
// Mixins
// ============================================================================

@mixin cyber-glow($intensity: 1) {
  $base-blur: 5px * $intensity;
  $mid-blur: 10px * $intensity;
  $large-blur: 20px * $intensity;
  
  box-shadow: 
    0 0 $base-blur hsl(var(--cyber-blue)),
    0 0 $mid-blur hsl(var(--cyber-blue) / 0.5),
    0 0 $large-blur hsl(var(--cyber-blue) / 0.3);
}

@mixin cyber-glow-intense {
  box-shadow: 
    0 0 10px hsl(var(--cyber-blue)),
    0 0 20px hsl(var(--cyber-blue) / 0.7),
    0 0 40px hsl(var(--cyber-blue) / 0.5),
    0 0 60px hsl(var(--cyber-blue) / 0.3);
}

@mixin scanline-effect {
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      hsl(var(--cyber-blue) / 0.03) 2px,
      hsl(var(--cyber-blue) / 0.03) 4px
    );
    pointer-events: none;
  }
}

@mixin grid-pattern {
  background-image: 
    linear-gradient(hsl(var(--cyber-blue) / 0.03) 1px, transparent 1px),
    linear-gradient(90deg, hsl(var(--cyber-blue) / 0.03) 1px, transparent 1px),
    linear-gradient(hsl(var(--background) / 0.85), hsl(var(--background) / 0.85)),
    url('/image.png');
  background-size: 20px 20px, 20px 20px, cover, cover;
  background-position: 0 0, 0 0, center, center;
  background-repeat: repeat, repeat, no-repeat, repeat;
}

// ============================================================================
// Utility Classes
// ============================================================================

.cyber-glow {
  @include cyber-glow(1);
}

.cyber-glow-intense {
  @include cyber-glow-intense;
}

.cyber-border {
  border: 1px solid hsl(var(--cyber-blue) / 0.5);
}

.grid-pattern {
  @include grid-pattern;
}

.scanlines {
  @include scanline-effect;
}

// ============================================================================
// Animations
// ============================================================================

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 
      0 0 5px hsl(var(--cyber-blue)),
      0 0 10px hsl(var(--cyber-blue) / 0.5);
  }
  50% {
    box-shadow: 
      0 0 10px hsl(var(--cyber-blue)),
      0 0 20px hsl(var(--cyber-blue) / 0.7),
      0 0 30px hsl(var(--cyber-blue) / 0.5);
  }
}

@keyframes data-flow {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}

@keyframes flicker {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes scan {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

// Animation utility classes
.animate-pulse-glow {
  animation: pulse-glow 2s $ease-cyber infinite;
}

.animate-data-flow {
  background: linear-gradient(
    90deg,
    hsl(var(--cyber-blue) / 0.1),
    hsl(var(--cyber-cyan) / 0.2),
    hsl(var(--cyber-blue) / 0.1)
  );
  background-size: 200% 100%;
  animation: data-flow 3s linear infinite;
}

.animate-flicker {
  animation: flicker 0.15s infinite;
}

// ============================================================================
// Component-specific Styles
// ============================================================================

// Memory cell styles
.memory-cell {
  position: relative;
  transition: all 0.3s $ease-cyber;
  
  &--occupied {
    @include cyber-glow(1);
    background-color: hsl(var(--primary) / 0.1);
    border-color: hsl(var(--primary) / 0.5);
    
    &:hover {
      @include cyber-glow(1.5);
    }
  }
  
  &--empty {
    opacity: 0.5;
    background-color: hsl(var(--muted) / 0.3);
    border-color: hsl(var(--border) / 0.5);
  }
  
  &__index {
    position: absolute;
    top: 0.25rem;
    right: 0.5rem;
    font-size: 0.75rem;
    font-family: monospace;
    color: hsl(var(--muted-foreground) / 0.5);
  }
  
  &__data-flow {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 0.3;
    pointer-events: none;
    animation: data-flow 3s linear infinite;
    background: linear-gradient(
      90deg,
      hsl(var(--cyber-blue) / 0.1),
      hsl(var(--cyber-cyan) / 0.2),
      hsl(var(--cyber-blue) / 0.1)
    );
    background-size: 200% 100%;
  }
}

// Status indicator
.status-indicator {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  
  &__dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    
    &--connected {
      background-color: hsl(142 76% 36%);
      animation: pulse-glow 2s $ease-cyber infinite;
    }
    
    &--disconnected {
      background-color: hsl(0 84% 60%);
    }
  }
}

// Search result card
.search-result {
  padding: 1rem;
  border-radius: 0.5rem;
  background-color: hsl(var(--primary) / 0.05);
  border: 1px solid hsl(var(--primary) / 0.3);
  
  &__key {
    font-family: monospace;
    font-size: 0.875rem;
    font-weight: 600;
    color: hsl(var(--primary));
  }
  
  &__value {
    font-family: monospace;
    font-size: 0.875rem;
    padding: 0.5rem;
    margin-top: 0.5rem;
    background-color: hsl(var(--background) / 0.5);
    border: 1px solid hsl(var(--border) / 0.3);
    border-radius: 0.25rem;
    word-break: break-all;
  }
}

// Header styles
.dashboard-header {
  border-bottom: 1px solid hsl(var(--border) / 0.3);
  background-color: hsl(var(--card) / 0.3);
  backdrop-filter: blur(8px);
  
  &__logo {
    padding: 0.5rem;
    border-radius: 0.5rem;
    background-color: hsl(var(--primary) / 0.1);
    border: 1px solid hsl(var(--primary) / 0.3);
    @include cyber-glow(0.5);
  }
  
  &__title {
    font-size: 1.25rem;
    font-weight: 700;
    letter-spacing: -0.025em;
  }
  
  &__subtitle {
    font-size: 0.75rem;
    font-family: monospace;
    color: hsl(var(--muted-foreground));
  }
}

// Stats card
.stat-card {
  &__icon-wrapper {
    padding: 0.5rem;
    border-radius: 0.5rem;
    background-color: hsl(var(--primary) / 0.1);
    border: 1px solid hsl(var(--primary) / 0.3);
  }
  
  &__label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: hsl(var(--muted-foreground));
  }
  
  &__value {
    font-size: 1.5rem;
    font-weight: 700;
    font-family: monospace;
  }
  
  &__subvalue {
    font-size: 0.875rem;
    color: hsl(var(--muted-foreground));
  }
}

// Dialog enhancements
.dialog-cyber {
  border-color: hsl(var(--primary) / 0.3);
  background-color: hsl(var(--card) / 0.95);
  backdrop-filter: blur(8px);
  
  &__header-icon {
    padding: 0.5rem;
    border-radius: 0.5rem;
    background-color: hsl(var(--primary) / 0.1);
    border: 1px solid hsl(var(--primary) / 0.3);
  }
}

// Input enhancements
.input-cyber {
  font-family: monospace;
  background-color: hsl(var(--background) / 0.5);
  border-color: hsl(var(--border) / 0.5);
  
  &:focus {
    border-color: hsl(var(--primary) / 0.5);
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
  }
}

// Button with glow
.btn-cyber {
  @include cyber-glow(0.5);
  transition: all 0.2s $ease-cyber;
  
  &:hover {
    @include cyber-glow-intense;
  }
}

// ============================================================================
// Responsive Adjustments
// ============================================================================

@media (max-width: 768px) {
  .memory-cell {
    padding: 0.75rem;
    
    &__index {
      font-size: 0.625rem;
    }
  }
  
  .stat-card {
    &__value {
      font-size: 1.25rem;
    }
  }
}


